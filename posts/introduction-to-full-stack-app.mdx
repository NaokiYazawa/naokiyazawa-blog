---
title: FullStack App å…¥é–€
description: æœ¬è¨˜äº‹ã§ã¯ã€Next.js & TypeScript & Prisma & NextAuth & TailwindCSS & Vercel & Heroku  ã‚’ä½¿ã£ã¦ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¾ã™ã€‚
date: '2022-06-10'
---

## æœ¬è¨˜äº‹ã®ç›®æ¨™

æœ¬è¨˜äº‹ã®ç›®æ¨™ã¯ã€**Next.js & TypeScript & Prisma & NextAuth & TailwindCSS & Vercel & Heroku ã‚’ä½¿ã£ã¦ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹** ã§ã™ã€‚  
ã¾ãŸã€ESLintãƒ»Prettierãƒ»Husky ã‚’ä½¿ã£ãŸã‚³ãƒ¼ãƒ‰ã®å“è³ªç®¡ç†ã‚‚è¡Œã„ã¾ã™ã€‚

## æœ¬è¨˜äº‹ã®å¯¾è±¡è€…

- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«èˆˆå‘³ãŒã‚ã‚‹æ–¹
- Next.js ã‚’è§¦ã£ãŸã“ã¨ã®ã‚ã‚‹æ–¹
- TypeScript ã‚’è§¦ã£ãŸã“ã¨ã®ã‚ã‚‹æ–¹
- Prisma ã®ã“ã¨ã‚’èã„ãŸã“ã¨ãŒã‚ã‚‹æ–¹
- æ§˜ã€…ãªæŠ€è¡“ã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã£ã¦ã¿ãŸã„æ–¹
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®æŠ€è¡“ã‚’ä½¿ã£ã¦ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚’ä½œæˆã—ãŸã„æ–¹

æŠ€è¡“ã«ã¤ã„ã¦ã¯ã§ãã‚‹é™ã‚Šä¸å¯§ã«èª¬æ˜ã—ã¦ã„ãæ‰€å­˜ã§ã™ãŒã€Next.js ã‚„ TypeScript ã‚’è§¦ã£ãŸã“ã¨ãŒã‚ã‚‹ã¨ã‚¹ãƒ ãƒ¼ã‚ºã«é–‹ç™ºãŒé€²ã‚€ã¨æ€ã„ã¾ã™ã€‚

## æœ¬è¨˜äº‹ã®æ§‹æˆ

æœ¬è¨˜äº‹ã¯å…¨éƒ¨ã§ 10 ç« ã‹ã‚‰æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ã€‚ä»¥ä¸‹ãŒå„ç« ã®å†…å®¹ã§ã™ã€‚

**ç¬¬ 1 ç« **ï¼šä½œæˆã™ã‚‹ã‚¢ãƒ—ãƒªã®æ¦‚è¦ã‚’æ´ã‚‚ã†  
**ç¬¬ 2 ç« **ï¼šã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹ã«ã‚ãŸã£ã¦ä½¿ç”¨ã™ã‚‹è¨€èªãƒ»ãƒ„ãƒ¼ãƒ«ã®ç´¹ä»‹  
**ç¬¬ 3 ç« **ï¼šESLintãƒ»Prettierãƒ»Husky ã‚’ç”¨ã„ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã‚ˆã†  
**ç¬¬ 4 ç« **ï¼šDocker ã‚’ä½¿ã£ã¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ§‹ç¯‰ã—ã‚ˆã†  
**ç¬¬ 5 ç« **ï¼šPrisma ã‚’ä½¿ã£ã¦ã‚¹ã‚­ãƒ¼ãƒã‚’è¨­å®šã—ã‚ˆã†  
**ç¬¬ 6 ç« **ï¼šNextAuth.js ã‚’ä½¿ã£ã¦èªè¨¼æ©Ÿèƒ½ã‚’ä½œæˆã—ã‚ˆã†

## ç¬¬ï¼‘ç« ã€€ ä½œæˆã™ã‚‹ã‚¢ãƒ—ãƒªã®æ¦‚è¦ã‚’æ´ã‚‚ã†

æœ¬ç« ã§ã¯ã€æœ¬è¨˜äº‹ã§ä½œæˆã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚
ã‚ã‚‰ã‹ã˜ã‚ã€ã©ã‚“ãªã‚¢ãƒ—ãƒªã‚’ä½œã‚‹ã®ã‹ã¨ã„ã†ã‚´ãƒ¼ãƒ«ã‚’æŠŠæ¡ã—ã¦ãŠã„ãŸæ–¹ãŒã„ã„ã§ã™ã‚ˆã­ã€‚

æœ¬è¨˜äº‹ã§ã¯ã€ã€Œ**èªè¨¼æ©Ÿèƒ½ä»˜ããƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã‚¢ãƒ—ãƒª**ã€ã‚’ä½œæˆã—ã¾ã™ã€‚  
ã‚ã‚‰ã‹ã˜ã‚ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹è¨˜äº‹ã«å¯¾ã—ã¦ã€ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã‚’è¿½åŠ ãƒ»å‰Šé™¤ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚  
èªè¨¼ã«ã¯ã€GitHub ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

ã‚¢ãƒ—ãƒªã®ä¸»ãªç”»é¢ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚

ã€ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã€‘

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/726d53d3-b71b-ed32-ae9d-6abb57775d14.png)

ã€ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã€‘

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/e335b82e-1fc1-caa7-6260-f3bc5a720067.png)

ã€è¨˜äº‹ä¸€è¦§ç”»é¢ã€‘

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/304c6e2f-74b2-b248-2fbb-8fffea1d8bff.png)

ã€è¨˜äº‹è©³ç´°ç”»é¢ï¼ˆãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯å‰ï¼‰ã€‘

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/87d57b66-b034-0ddc-fd5d-4d230398191b.png)

ã€è¨˜äº‹è©³ç´°ç”»é¢ï¼ˆãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯å¾Œï¼‰ã€‘

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/46a524c4-a5f6-bd54-2479-943836c78059.png)

ã€ãƒ¦ãƒ¼ã‚¶ã®ãƒã‚¤ãƒšãƒ¼ã‚¸ã€‘

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/da82afd3-0d56-8f45-bc4a-cb72241bdf14.png)

ä¸Šè¨˜ã®ã‚ˆã†ãªã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ãã¾ã™ã€‚  
ãƒ‡ã‚¶ã‚¤ãƒ³ã«ã¯ TailwindCSSã€ãƒ‡ãƒ—ãƒ­ã‚¤ã«ã¯ã€Vercel & Heroku ã‚’ä½¿ã„ã¾ã™ã€‚

## ç¬¬ 2 ç« ã€€ ã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹ã«ã‚ãŸã£ã¦ä½¿ç”¨ã™ã‚‹è¨€èªãƒ»ãƒ„ãƒ¼ãƒ«ã®ç´¹ä»‹

æœ¬ç« ã§ã¯ã€ã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹ã«ã‚ãŸã£ã¦ä½¿ç”¨ã™ã‚‹è¨€èªãƒ»ãƒ„ãƒ¼ãƒ«ã®ç´¹ä»‹ã‚’è¡Œã„ã¾ã™ã€‚

### 1. Next.js

<img
  src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/4a4c5edb-be86-296a-53a3-d39db67b8978.png"
  width="50px"
/>

Next.js ã¨ã¯ã€React ã‚’ãƒ™ãƒ¼ã‚¹ã«ä½œã‚‰ã‚ŒãŸãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚  
ã‚µãƒ¼ãƒå´ã§ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ©Ÿèƒ½ã‚’å‚™ãˆã¦ã„ã‚‹ãŸã‚ã€é«˜é€Ÿã§ã€SEO ã«ã‚‚å¼·ã„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚

> [Pre-rendering and Data Fetching](https://nextjs.org/learn/basics/data-fetching/pre-rendering)  
> [SSG ã¨ SSR ã§ç†è§£ã™ã‚‹ Next.js ã®ãƒšãƒ¼ã‚¸ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°](https://zenn.dev/luvmini511/articles/1523113e0dec58)

### 2. TypeScript

<img
  src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/21967685-e369-ae2e-eb2a-d41fb5452929.png"
  width="50px"
/>

TypeScript ã¯ JavaScript ã‚’æ‹¡å¼µã—ã¦ä½œã‚‰ã‚ŒãŸã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§ã™ã€‚  
JavaScript ã¨ã®å¤§ããªé•ã„ã¯ã€JavaScript ãŒå‹•çš„å‹ä»˜ã‘ã§ã‚ã‚‹ã®ã«å¯¾ã—ã¦ TypeScript ã¯é™çš„å‹ä»˜ã‘ã§ã‚ã‚‹ã¨ã„ã†ç‚¹ã§ã™ã€‚

### 3. TailwindCSS

<img
  src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/4575d6fb-5229-f68e-2aa7-21f8a46a6cb4.png"
  width="50px"
/>

Tailwind CSS ã¨ã¯ã€Utility Firstï¼ˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆï¼‰ã‚’ã‚³ãƒ³ã‚»ãƒ—ãƒˆã«è¨­è¨ˆã•ã‚ŒãŸ CSS ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚  
Utility First ã¨ã¯ã€CSS ã¯ä½¿ã‚ãšã« Tailwind CSS ãŒæä¾›ã—ã¦ã„ã‚‹ã‚¯ãƒ©ã‚¹ã®ã¿ã‚’ä½¿ç”¨ã—ã¦ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã™ã‚‹è€ƒãˆæ–¹ã®ã“ã¨ã§ã™ã€‚

### 4. Prisma

<img
  src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/b70c8062-e64a-3376-3fde-7c743cc60a3d.png"
  width="50px"
/>

Prismaï¼ˆNext-generation Node.js and TypeScript ORMï¼‰ã¨ã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’å®¹æ˜“ã«ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚  
å‹å®‰å…¨æ€§ã‚„ã‚¨ãƒ‡ã‚£ã‚¿ã§ã®å…¥åŠ›è£œå®ŒãŒã‚ã‚‹ã¨ã„ã£ãŸåˆ©ç‚¹ã‚’æœ‰ã—ã¦ã„ã¾ã™ã€‚

### 5. NextAuth.js

<img
  src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/b95b5413-5ec7-235e-551c-48f7edda3775.png"
  width="50px"
/>

NextAuth.js ã¨ã¯ Next.js ã«èªè¨¼æ©Ÿèƒ½ã‚’ç°¡å˜ã«å®Ÿè£…ã§ãã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã“ã¨ã§ã™ã€‚  
ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹èªè¨¼ã«åŠ ãˆã¦ã€Googleãƒ»Twitterãƒ»Facebookãƒ»GitHub ã¨ã„ã£ãŸã‚µãƒ¼ãƒ“ã‚¹ã® OAuth èªè¨¼ã‚’çµ„ã¿è¾¼ã‚€ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚

### 6. Docker

<img
  src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/1bfb3b62-b4c0-29c6-3334-8fd9f5bc833f.png"
  width="50px"
/>

Docker ã¨ã¯ã€ã‚³ãƒ³ãƒ†ãƒŠã‚¿ã‚¤ãƒ—ã®ä»®æƒ³ç’°å¢ƒã®ä¸­ã§ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆé…å¸ƒã‚„å®Ÿè¡Œã—ãŸã‚Šã™ã‚‹ãŸã‚ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚  
è»½é‡ãªãŸã‚åŠ¹ç‡çš„ã«ä½œæ¥­ãŒã§ãã€ã‚³ãƒ¼ãƒ‰åŒ–ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã§åŒã˜ç’°å¢ƒãŒä½œã‚Œã€é…å¸ƒãŒã—ã‚„ã™ãã€ã‚¹ã‚¯ãƒ©ãƒƒãƒ—ï¼†ãƒ“ãƒ«ãƒ‰ãŒæ¥½ã«ã§ãã¾ã™ã€‚

### 7. Vercel

<img
  src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/33c40dbf-f988-0ff4-19e4-0b8ebd40a409.png"
  width="50px"
/>

Next.js ã‚’é–‹ç™ºã—ã¦ã„ã‚‹ Vercel Inc. ãŒæä¾›ã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚  
ã“ã‚Œã‚’åˆ©ç”¨ã—ã¦æ‰‹è»½ã« Next.js ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã¾ã™ã€‚

### 8. Heroku

<img
  src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/7ae06105-3b2f-b4a0-5cea-99d8cd59b64b.png"
  width="50px"
/>

Heroku ã¨ã¯ã€Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹ç¯‰ã‹ã‚‰ä¿å®ˆã€ã‚¹ã‚±ãƒ¼ãƒ«ã®æ‹¡å¼µãªã©ã®é‹ç”¨ä½œæ¥­ã¾ã§ãŒã§ãã‚‹ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚

### 9. ESLint

<img
  src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/4a1067d1-3da6-1ede-216e-88c79d17c3be.png"
  width="50px"
/>

ESLint ã¨ã¯ã€Node.js ã§æ›¸ã‹ã‚ŒãŸ JavaScript å°‚ç”¨ã® linter ã§ã™ã€‚  
ESLint ã‚’ä½¿ã†ã“ã¨ã«ã‚ˆã£ã¦æ˜ã‚‰ã‹ãªãƒã‚°ã‚’è¦‹ã¤ã‘ãŸã‚Šã€ç‹¬è‡ªã®ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ã‚’è¨­å®šã—ã¦ã‚³ãƒ¼ãƒ‰ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’çµ±ä¸€ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### 10. Prettier

<img
  src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/9bfa3d3f-384a-4f7c-c25e-d3650b579da9.png"
  width="50px"
/>

Prettier ã¨ã¯ã€æ±ºã‚ãŸãƒ«ãƒ¼ãƒ«ã«å¾“ã„ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’é©åˆ‡ã«**æ•´å½¢**ã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚  
ESLint ã¨å½¹å‰²ã‚’æ··åŒã—ãŒã¡ã§ã™ãŒã€ESLint ã®å½¹å‰²ã¯ã‚³ãƒ¼ãƒ‰ã®æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ã§ã‚ã‚Šã€Prettier ã®å½¹å‰²ã¯ã‚³ãƒ¼ãƒ‰ã®æ•´å½¢ã«ãªã‚Šã¾ã™ã€‚

### 11. Husky

<img
  src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/6269b5b6-9e7d-2c2f-14e6-7f3ca4f42583.png"
  width="50px"
/>

Husky ã¨ã¯ã€Git Commit ã™ã‚‹å‰ã€Git Push ã™ã‚‹å‰ãªã©ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚  
Husky ã‚’ä½¿ã†ã“ã¨ã«ã‚ˆã£ã¦ã€ESLint ã¨ Prettier ã‚’è‡ªå‹•ã§å‹•ã‹ã™ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚

## ç¬¬ 3 ç« ã€€ ESLintãƒ»Prettierãƒ»Husky ã‚’ç”¨ã„ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã‚ˆã†

æœ¬ç« ã§ã¯ã€ESLintãƒ»Prettierãƒ»Husky ã‚’ç”¨ã„ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’è¡Œã„ã¾ã™ã€‚  
ã„ã‚ˆã„ã‚ˆã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆãŒã‚¹ã‚¿ãƒ¼ãƒˆã—ã¾ã™ï¼

### 1. Visual Studio Code ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ã¾ãšã¯ã€ESLint ã¨ Prettier ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ã‚‡ã†ã€‚  
Visual Studio Code ã‚’é–‹ãã€Œcommand+shift+xã€ã§æ‹¡å¼µæ©Ÿèƒ½ã‚’æ¤œç´¢ã—ã¦ãã ã•ã„ã€‚  
ä»¥ä¸‹ 2 ã¤ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚Œã° OK ã§ã™ã€‚

ã€ESLintã€‘

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/e3d3cde2-8212-6830-3819-bc83b7691a1a.png)

ã€Prettier - Code formatterã€‘

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/7ac00aa0-ddf1-c331-7ee7-ddfc708d48a0.png)

### 2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ

ã•ã¦ã€ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã€Next.js ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¾ã—ã‚‡ã†ã€‚  
ä»Šå›ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åå‰ã¯ã€Œbookmarkã€ã¨ã—ã¾ã™ã€‚  
**--example with-tailwindcss** ã¨ã™ã‚‹ã“ã¨ã§ã€TypeScript & tailwindCSS ã®ç’°å¢ƒæ§‹ç¯‰ãŒå®Œæˆã—ã¾ã™ã€‚

```bash
$ npx create-next-app bookmark --example with-tailwindcss
```

```bash
$ cd bookmark
```

### 3. ESLint ã®è¨­å®š

æ¬¡ã«ã€**eslint** ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ã‚‡ã†ã€‚

```bash
$ npm i eslint --save-dev
```

ç„¡äº‹ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã—ãŸã‚‰ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ ESLint ã®è¨­å®šã‚’è¡Œã£ã¦ãã ã•ã„ã€‚

```bash
$ npx eslint --init
```

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/bd479ab3-6e70-140f-9ed5-d4254f27f17a.png)
ä¸Šè¨˜ãŒå®Œäº†ã™ã‚‹ã¨ã€**.eslintrc.js** ãŒç”Ÿæˆã•ã‚Œä¸‹è¨˜ã®å†…å®¹ãŒè¨˜è¿°ã•ã‚Œã¦ã„ã‚‹ã¯ãšã§ã™ã€‚

```javascript:.eslintrc.js
module.exports = {
  env: {
    browser: true,
    es2021: true
  },
  extends: [
    'plugin:react/recommended',
    'standard'
  ],
  parser: '@typescript-eslint/parser',
  parserOptions: {
    ecmaFeatures: {
      jsx: true
    },
    ecmaVersion: 'latest',
    sourceType: 'module'
  },
  plugins: [
    'react',
    '@typescript-eslint'
  ],
  rules: {
  }
}
```

æ—©é€Ÿã§ã™ãŒã€react ã® version ã‚’æŒ‡å®šã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚

```javascript:.eslintrc.js
module.exports = {
  env: {
    browser: true,
    es2021: true,
  },
  extends: ['plugin:react/recommended', 'standard'],
  parser: '@typescript-eslint/parser',
  parserOptions: {
    ecmaFeatures: {
      jsx: true,
    },
    ecmaVersion: 'latest',
    sourceType: 'module',
  },
  plugins: ['react', '@typescript-eslint'],
  rules: {},
  // ä¸‹è¨˜ã‚’è¿½åŠ 
  settings: {
    react: {
      version: 'latest'
    }
  }
};
```

ãã—ã¦ã€ESLint ã®ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ã‚’é©ç”¨ã—ãªã„ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ•ã‚©ãƒ«ãƒ€ã‚’è¨­å®šã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚  
**.eslintignore** ã‚’ä½œæˆã—ã¦ä¸‹è¨˜ã‚’è¨˜è¿°ã—ã¦ãã ã•ã„ã€‚

```bash
$ touch .eslintignore
```

```json:.eslintignore
.next
next-env.d.ts
node_modules
yarn.lock
package-lock.json
public
```

ä¸Šè¨˜ã®è¨­å®šã¯ã‚ãã¾ã§ã‚‚ä¾‹ã§ã™ã®ã§ã€ã”è‡ªèº«ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«åˆã‚ã›ã¦å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚

### 4. prettier ã®è¨­å®š

æ¬¡ã« prettier ã®è¨­å®šã‚’è¡Œã£ã¦ã„ãã¾ã™ã€‚  
ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚

```bash
$ npm i --save-dev prettier
```

ã“ã‚Œã§ prettier ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã—ãŸã€‚
æ¬¡ã«ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚‚å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚

```bash
$ npm i --save-dev eslint-config-prettier
```

ã€eslint-config-prettier ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ç†ç”±ã€‘  
eslint ãªã©ã®ãƒªãƒ³ã‚¿ãƒ¼ã«ã¯ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ã ã‘ã§ãªãã€ã‚³ãƒ¼ãƒ‰ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹æ©Ÿèƒ½ã‚‚å«ã¾ã‚Œã¦ã„ã¾ã™ã€‚  
ã“ã‚Œã‚‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®æ©Ÿèƒ½ã‚’ç„¡åŠ¹åŒ–ã—ã¦æ©Ÿèƒ½ã®ç«¶åˆã‚’é˜²ãã€prettier ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ä»»ã›ã‚‹ã‚ˆã†ã«è¨­å®šã‚’è¡Œã†ãŸã‚ eslint-config-prettier ã‚’å°å…¥ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

eslint-config-prettier ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã«ã€**.eslintrc.js** ã® extends ã‚’ç·¨é›†ã—ã¦ãã ã•ã„ã€‚

```javascript:.eslintrc.js
module.exports = {
  env: {
    browser: true,
    es2021: true,
  },
  // ä¸‹è¨˜ã® extends ã«ã€Œ'prettier'ã€ã‚’è¿½åŠ ï¼ˆå¿…ãšæœ€å¾Œã«è¿½åŠ ã—ã¦ãã ã•ã„ï¼‰
  extends: ['plugin:react/recommended', 'standard', 'prettier'],
  parser: '@typescript-eslint/parser',
  parserOptions: {
    ecmaFeatures: {
      jsx: true,
    },
    ecmaVersion: 'latest',
    sourceType: 'module',
  },
  plugins: ['react', '@typescript-eslint'],
  rules: {},
  settings: {
    react: {
      version: 'latest',
    },
  },
};
```

ãã‚Œã§ã¯ã€prettier ã®è¨­å®šã‚’è¡Œã£ã¦ã„ãã¾ã™ã€‚  
**.prettierrc** ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

```bash
$ touch .prettierrc
```

ä¸‹è¨˜ã®ã‚ˆã†ã«ã€prettier ã®è¨­å®šã‚’è¨˜è¿°ã—ã¾ã™ã€‚

```javascript:.prettierrc
{
  "endOfLine": "lf",
  "printWidth": 80,
  "tabWidth": 2,
  "trailingComma": "es5",
  "singleQuote": true,
  "jsxSingleQuote": true,
  "semi": true
}
```

ä¸Šè¨˜ã®è¨­å®šã¯ã‚ãã¾ã§ã‚‚ä¾‹ã§ã™ã®ã§ã€ã”è‡ªèº«ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«åˆã‚ã›ã¦å¤‰æ›´ã—ã¦ã„ãŸã ã„ã¦æ§‹ã„ã¾ã›ã‚“ã€‚

ãã—ã¦ã€ESLint ã¨åŒæ§˜ã« Prettier ã®ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’é©ç”¨ã—ãªã„ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ•ã‚©ãƒ«ãƒ€ã‚’è¨­å®šã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚  
**.prettierignore** ã‚’ä½œæˆã—ã¦ä¸‹è¨˜ã‚’è¨˜è¿°ã—ã¦ãã ã•ã„ã€‚

```bash
$ touch .prettierignore
```

```json:.prettierignore
.next
next-env.d.ts
node_modules
yarn.lock
package-lock.json
public
```

æœ€å¾Œã«ã€Visual Studio Code ä¸Šã§ä¿å­˜æ™‚ã« prettier ã®ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ç™ºå‹•ã•ã›ã‚‹ãŸã‚ã®è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚

ã€Œcommand + ,ã€ã§ Settings ã‚’é–‹ãã€ã€ŒDefault Formatterã€ã¨æ¤œç´¢ã—ã¦ãã ã•ã„ã€‚  
ãã—ã¦ã€ä¸‹è¨˜ã®ã‚ˆã†ã« **Prettier - Code formatter** ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/aa9496c4-a3de-e0af-a858-f1573b969fe5.png)

æ¬¡ã«ã€ã€ŒFormat on Saveã€ã¨æ¤œç´¢ã—ã¦ãã ã•ã„ã€‚  
ãã—ã¦ã€ä¸‹è¨˜ã®ã‚ˆã†ã« **Format On Save** ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¦ãã ã•ã„ã€‚

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/be8fc362-2f65-d767-4eb7-5e2a275381a0.png)

ã“ã‚Œã§ã€ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ™‚ã« prettier ã«ã‚ˆã£ã¦ã‚³ãƒ¼ãƒ‰ãŒè‡ªå‹•çš„ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚Œã¾ã™ã€‚

ã¾ãŸã€**.vscode** ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã« **settings.json** ã‚’ä½œæˆã—ã€ä»Šè¨­å®šã—ãŸäº‹é …ã‚’è¨˜è¿°ã—ã¾ã—ã‚‡ã†ã€‚  
ã“ã†ã™ã‚‹ã“ã¨ã§ã€GitHub ãªã©ã‹ã‚‰ clone ã—ãŸã¨ãã« **settings.json** ã®è¨­å®šãŒé©ç”¨ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```bash
$ mkdir .vscode
$ touch .vscode/settings.json
```

```json:settings.json
{
  "editor.formatOnPaste": true,
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true,
    "source.fixAll.format": true
  }
}
```

### 5. ESLint ã® rules ã®å¤‰æ›´

è©¦ã—ã«ã€**index.tsx** ã®ä¿å­˜ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚  
prettier ã®ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒå®Ÿè¡Œã•ã‚Œã€ãƒ€ãƒ–ãƒ«ã‚¯ã‚©ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚©ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ä¿®æ­£ã•ã‚Œã¦ã„ã¾ã™ã€‚ï¼ˆä¾¿åˆ©ï¼ï¼‰  
ã—ã‹ã—ã€ä¸‹è¨˜ã®ã‚ˆã†ãª ESLint ã®ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¨æ€ã„ã¾ã™ã€‚

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/dfeb5ae2-261d-08d6-2745-816043c72c80.png)

ä¸Šè¨˜ã®ã‚¨ãƒ©ãƒ¼ã¯ React ã‚’ import ã™ã‚Œã°è§£æ¶ˆã—ã¾ã™ã€‚
ã—ã‹ã—ã€Next.js ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã€ãƒ•ã‚¡ã‚¤ãƒ«ã®å…ˆé ­ã§ React ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹å¿…è¦ã¯ãªã„ã®ã§ã€ä»Šå›ã¯ ESLint ã® rules ã®æ–¹ã‚’å¤‰æ›´ã—ã¾ã—ã‚‡ã†ã€‚

```javascript:.eslintrc.js
module.exports = {
  env: {
    browser: true,
    es2021: true,
  },
  extends: ['plugin:react/recommended', 'standard', 'prettier'],
  parser: '@typescript-eslint/parser',
  parserOptions: {
    ecmaFeatures: {
      jsx: true,
    },
    ecmaVersion: 'latest',
    sourceType: 'module',
  },
  plugins: ['react', '@typescript-eslint'],
  rules: {
    // ä¸‹è¨˜ã‚’è¿½åŠ 
    'react/react-in-jsx-scope': 'off',
  },
  settings: {
    react: {
      version: 'latest',
    },
  },
};
```

ã“ã‚Œã§ã€index.tsx ã®ã‚¨ãƒ©ãƒ¼ãŒè§£æ¶ˆã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚

### 6. Husky ã®è¨­å®š

æœ€å¾Œã«ã€Git Commit æ™‚ã« ESLint ã¨ Prettier ã«ã‚ˆã‚‹é™çš„è§£æã‚’èµ°ã‚‰ã›ã‚‹ãŸã‚ã« Husky ã®è¨­å®šã‚’è¡Œã£ã¦ã„ãã¾ã™ã€‚

ã¯ã˜ã‚ã«ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚

```bash
$ npx husky-init
```

ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚  
ã“ã‚Œã§ã€ã‚³ãƒŸãƒƒãƒˆæ™‚ã« **.husky/pre-commit** ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/c4bd952e-f01f-514a-c3ff-e693d186d0f9.png)

ãã‚Œã§ã¯ã€ã€Œã‚³ãƒŸãƒƒãƒˆæ™‚ã« ESLint ã¨ Prettier ã«ã‚ˆã‚‹é™çš„è§£æã‚’èµ°ã‚‰ã›ã‚‹ã€ã¨ã„ã†è¨­å®šã‚’ **pre-commit** ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨˜è¿°ã—ã¦ã„ãã¾ã™ã€‚

```bash:pre-commit
#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# bash echo color
RED='\033[1;31m'
GREEN='\033[1;32m'
BLUE='\033[1;36m'
BOLD='\033[1;37m'
NC='\033[0m'

echo "\n ğŸš§ğŸ—ï¸  ${BOLD}Checking format, lint and types in your project before committing${NC}"

# Check Prettier standards
npm run check-format ||
(
    echo "\n âŒğŸŸ¨ Prettier Check ${RED}Failed${NC}. ğŸŸ¨âŒ\n Run ${BLUE}npm run format${NC}, add changes and try commit again.\n";
    false;
)

# Check ESLint Standards
npm run check-lint ||
(
    echo "\n âŒğŸŸª ESLint Check ${RED}Failed${NC}. ğŸŸªâŒ\n Make the required changes listed above, add changes and try to commit again.\n"
    false;
)

# Check tsconfig standards
npm run check-types ||
(
    echo "\n âŒğŸŸ¦ Type check ${RED}Failed${NC}. ğŸŸ¦âŒ\n Make the changes required above.\n"
    false;
)

# If everything passes... Now we can build
echo "ğŸ”¥ğŸš€ ${BOLD}All passed... Now we can build.${NC} ğŸš€ğŸ”¥"

npm run build ||
(
    echo "\n âŒğŸŸ© Next build ${RED}Failed${NC}. ğŸŸ©âŒ\n View the errors above to see why.\n"
    false;
)

# If everything passes... Now we can commit
echo "âœ…âœ… ${GREEN}Build is completed... I am committing this now.${NC} âœ…âœ…\n"
```

æœ€å¾Œã«

- **npm run check-format**ï¼šPrettier ã§å®šç¾©ã—ãŸãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®æ¤œè¨¼
- **npm run check-lint**ï¼šESLint ã§å®šç¾©ã—ãŸãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®æ¤œè¨¼
- **npm run check-types**ï¼šTypeScript ã®å‹æ¤œè¨¼

ã‚’ **package.json** ã«å®šç¾©ã—ã¾ã—ã‚‡ã†ã€‚

```bash
"scripts": {
  "dev": "next dev",
  "build": "next build",
  "start": "next start",
  "lint": "next lint",
  "prepare": "husky install",
  "check-types": "tsc --pretty --noEmit",
  "check-format": "prettier --check .",
  "check-lint": "eslint . --ext ts --ext tsx --ext js",
  "format": "prettier --write .",
  "test-all": "npm run check-format && npm run check-lint && npm run check-types"
},
```

æœ€çµ‚çš„ãªãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/847778d5-b598-fc8f-da4d-c7816f6dea4d.png)

### 7. ã‚³ãƒŸãƒƒãƒˆã®å®Ÿè¡Œ

ãã‚Œã§ã¯ã€æœ¬ç« ã®æœ€å¾Œã«ã‚³ãƒŸãƒƒãƒˆã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚  
ã¾ãšã¯ã€Prettier ã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®å®Ÿè¡Œã‚’ã—ã¾ã™ã€‚

```bash
$ npm run format
```

ã“ã‚Œã§ã€Prettier ã«ã‚ˆã‚‹ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒå®Œäº†ã—ã¾ã—ãŸã€‚  
å¾Œã¯ã€add ã—ã¦ commit ã™ã‚Œã° OK ã§ã™ã€‚

```bash
$ git add .
```

```bash
$ git commit -m "setup ESLint & Prettier & Husky"
```

ãŠç–²ã‚Œæ§˜ã§ã—ãŸã€‚ã“ã‚Œã§ã€æœ¬ç« ã¯çµ‚äº†ã§ã™ã€‚

## ç¬¬ 4 ç« ã€€ Docker ã‚’ä½¿ã£ã¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ§‹ç¯‰ã—ã‚ˆã†

æœ¬ç« ã§ã¯ã€ Docker ã‚’ä½¿ã£ã¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ§‹ç¯‰ã—ã¦ã„ãã¾ã™ã€‚  
ä»Šå›ã¯ã€Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã‚„å„ã‚³ãƒ³ãƒ†ãƒŠã®èµ·å‹•ãƒ»åœæ­¢ãªã©ã‚’ã‚ˆã‚Šç°¡å˜ã«è¡Œãˆã‚‹ Docker Compose ã‚’ä½¿ã„ã¾ã™ã€‚

ã¾ãšã¯ã€docker ã¨ docker-compose ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/812ad374-1843-b6af-9661-90513cb8c5b7.png)

ãã‚Œã§ã¯ã€ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« `docker-compose.yml` ã‚’ä½œæˆã—ã¦ä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã—ã¾ã—ã‚‡ã†ã€‚  
ãã‚Œãã‚Œã®ã‚³ãƒ¼ãƒ‰ã®æ„å‘³ã¯ã‚³ãƒ¡ãƒ³ãƒˆã¨ã—ã¦è¨˜è¼‰ã—ã¾ã—ãŸã€‚

```yaml:docker-compose.yml
# docker-composeã§ä½¿ç”¨ã™ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚2022/5 ç¾åœ¨ã€3.9ãŒæœ€æ–°ã§ã™ã€‚
version: '3.9'
# ã‚µãƒ¼ãƒ“ã‚¹ (ã‚³ãƒ³ãƒ†ãƒŠ) ã‚’å®šç¾©ã—ã¾ã™ã€‚
services:
  # ä»Šå›ã¯ postgres ãŒã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦å®šç¾©ã—ã¾ã—ãŸã€‚
  postgres:
    # Docker Image ã¯ postgres:12-alpine ã‚’ä½¿ã„ã¾ã™ã€‚postgres:12-alpine ã¯ postgres:12 ã¨æ¯”è¼ƒã—ã¦ã€ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºãŒå°ã•ããªã£ã¦ã„ã¾ã™ã€‚
    image: postgres:12-alpine
    # ã‚³ãƒ³ãƒ†ãƒŠã®åå‰ã‚’æŒ‡å®šã—ã¾ã™ã€‚
    container_name: postgres
    # ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¾ã™ã€‚
    environment:
      - POSTGRES_USER=root
      - POSTGRES_PASSWORD=secret
      - POSTGRES_DB=mydb
    # ãƒ‡ãƒ¼ã‚¿ã®æ°¸ç¶šåŒ–
    volumes:
      # postgresãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’/var/lib/postgresql/dataã«ãƒã‚¦ãƒ³ãƒˆã™ã‚‹
      - postgres:/var/lib/postgresql/data
    # ãƒãƒ¼ãƒˆã®æŒ‡å®šï¼ˆHOST:CONTAINERï¼‰
    ports:
      - 5432:5432
# ãƒ‡ãƒ¼ã‚¿ã®æ°¸ç¶šåŒ–
volumes:
  postgres:
```

`docker-compose.yml` ãƒ•ã‚¡ã‚¤ãƒ«ã®è¨˜è¼‰ãŒå®Œäº†ã—ã¾ã—ãŸã‚‰ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ postgres ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œæˆã—ã¾ã™ã€‚

```bash
$ docker-compose up
```

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/043bc4a4-800e-e5f1-c7ae-e11d45dd850f.png)

ä¸Šè¨˜ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¦ã„ã‚Œã°ã€å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚
å¿µã®ãŸã‚ã€ã‚³ãƒ³ãƒ†ãƒŠãŒç«‹ã¡ä¸ŠãŒã£ã¦ã„ã‚‹ã‹ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚

```bash
$ docker ps
```

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/af8b8bcf-3df1-37a8-63a9-ed5f739c1775.png)

STATUS ãŒ UP æ‹…ã£ã¦ã„ã‚Œã°ã‚³ãƒ³ãƒ†ãƒŠãŒæ­£å¸¸ã«ç«‹ã¡ä¸ŠãŒã£ã¦ã„ã¾ã™ã€‚  
IMAGEã€PORTSã€NAMES ã«ã¯ã€å…ˆã»ã© docker-compose.yml ã§æŒ‡å®šã—ãŸå€¤ãŒåæ˜ ã•ã‚Œã¦ã„ã¾ã™ã­ã€‚

ã¨ã“ã‚ã§ã€docker-compose.yml ã®ç’°å¢ƒå¤‰æ•°ã«ãŠã„ã¦ã€POSTGRES_DB ã‚’ mydb ã¨è¨­å®šã—ã¾ã—ãŸã€‚
mydb ã¨ã„ã†ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ã‹ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚

ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã€postgres ã‚³ãƒ³ãƒ†ãƒŠã®ä¸­ã«å…¥ã‚Šã¾ã—ã‚‡ã†ã€‚

```bash
$ docker container exec -it postgres bash
```

ã‚³ãƒ³ãƒ†ãƒŠå†…ã«ãƒ­ã‚°ã‚¤ãƒ³å¾Œã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¸€è¦§ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

```bash
$ psql -l
```

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2279509/b2226435-a45c-5837-6afe-fcb3656eae88.png)

mydb ã¨ã„ã†ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚

ã“ã‚Œã§ã€docker ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æ§‹ç¯‰ãŒå®Œäº†ã§ã™ã€‚

ã‚³ãƒŸãƒƒãƒˆã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚

```bash
$ git add .
```

```bash
$ git commit -m "database construction by docker"
```

## ç¬¬ 5 ç« ã€€ NextAuth.js ã‚’ä½¿ã£ã¦èªè¨¼æ©Ÿèƒ½ã‚’ä½œæˆã—ã‚ˆã†

ã¾ãšã¯ã€**next-auth** ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash
$ npm i next-auth
```

ã¾ãšã¯ã€**pages/api/auth/[...nextauth].ts** ã‚’ä½œæˆã—ã¦ä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã—ã¦ãã ã•ã„ã€‚

```typescript:[...nextauth].ts

```

https://next-auth.js.org/getting-started/example
